<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=10, initial-scale=1.0">
    <title>Bank check*</title>
    <link rel="stylesheet" href="style.css">
    <style>
        
    </style>
</head>
<body>
<h1>Bank check</h1>
 
<script>

    let AccountBalance = 1001;
    let date = new Date();
    let RequestSum = parseInt(prompt('Please enter requested amount','488'));

    const Banknotes = [200, 100, 50, 20, 10, 5];
    const BanknotesNum = [2, 3, 4, 5, 6, 10];

    let MoneyReserve = 0;
    for (let i = 0; i < Banknotes.length; i++){
                MoneyReserve += (Banknotes[i] * BanknotesNum[i]);
            }

    while (true){
        if (MoneyReserve < RequestSum){
                RequestSum = parseInt(prompt(`ATM doesn't have enough money to compleate request. Please enter the sum, that will be less than ${RequestSum} `,'485'));
            }
        else if (isNaN(RequestSum)){
            alert('Good day! Hope to see you another time!');
            break;
            }
        else if (AccountBalance < RequestSum){
            RequestSum = parseInt(prompt(`Your requested amount exceeds Account Available Balance ${AccountBalance}$. Please enter requested amount`,'485'));
            } 
        else {
            let ReceiveSum = 0;
            let UnReceiveSum = RequestSum;
            let BacknoteFloor = 0;
            for (let i = 0; i < Banknotes.length; i++){
                    BacknoteFloor = Math.floor(UnReceiveSum / Banknotes[i]);
                    console.log(BacknoteFloor);
                    if (BacknoteFloor >= BanknotesNum[i]){
                        ReceiveSum += Banknotes[i] * BanknotesNum[i];
                        UnReceiveSum -= Banknotes[i] * BanknotesNum[i];
                    }
                    else if(BacknoteFloor > 0){
                        ReceiveSum += Banknotes[i] * BacknoteFloor;
                        UnReceiveSum -= Banknotes[i] * BacknoteFloor;
                    }
                    else{
                        
                    }
            }

            let rest = RequestSum - ReceiveSum;
            AccountBalance -= ReceiveSum;

            document.write(`<div><strong>Time of transaction: </strong>${date.getFullYear()}.${date.getMonth()}.${date.getDate()}, ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}</div>`);
            document.write(`<div><strong>Requested amount: </strong>${RequestSum}$</div>`);

            document.write(`<div><strong>Received amount: </strong>${ReceiveSum}$</div>`);
            document.write(`<div><strong>Unreceived amount: </strong>${rest}$</div>`);
            document.write(`<div><strong>Account balance: </strong>${AccountBalance}$</div>`);

            
            break;
    
    }    
    }
    

    

    
    // const b200 = 200;
            // const b100 = 100;
            // const b50 = 50;
            // const b20 = 20;
            // const b10 = 10;
            // const b5 = 5;
            // let countN1 = Math.floor(RequestSum / b50);
            // let countN2 = Math.floor((RequestSum - countN1*b50) / b20);
            // let countN3 = Math.floor((RequestSum - countN1*b50 - countN2*b20) / b10);

            // let rest = RequestSum - countN1*b50 - countN2*b20 - countN3*b10;
            // let ReceiveSum = RequestSum - rest;
            // AccountBalance -= ReceiveSum;

            


            // document.write(`<div class="flex"><div class="bank">50: ${countN1}</div> 
            // <div class="bank">20: ${countN2}</div> 
            // <div class="bank">10: ${countN3}</div> 
            // <div class="rest">rest: ${rest}</div></div>`);
</script>   




<p>Используя document.write доработать приложение банкомат - что бы после снятия денег пользователь видел чек</p>
<p>Переработать задание с банкоматом</p>
<ul>
    <li>на номиналы купюр в 5, 10, 20, 50, 100, 200</li>
    <li>ограничить баланс пользователя суммой в 1001</li>
    <li>добавить ограничение по количеству купюр в банкомате</li>
    <li>если пользователь ввел сумму которую вы не можите выдать, попросить его другую сумму</li>
</ul>
<p>Обязательно использовать циклы при решении задачи №3</p>
    
</body>
</html>